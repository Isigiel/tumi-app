<!--
  ~     The TUMi app provides a modern way of managing events for an esn section.
  ~     Copyright (C) 2020  Lukas Heddendorp
  ~
  ~     This program is free software: you can redistribute it and/or modify
  ~     it under the terms of the GNU General Public License as published by
  ~     the Free Software Foundation, either version 3 of the License, or
  ~     (at your option) any later version.
  ~
  ~     This program is distributed in the hope that it will be useful,
  ~     but WITHOUT ANY WARRANTY; without even the implied warranty of
  ~     MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  ~     GNU General Public License for more details.
  ~
  ~     You should have received a copy of the GNU General Public License
  ~     along with this program.  If not, see <https://www.gnu.org/licenses/>.
  -->

<div fxLayout="column" fxLayoutGap="2rem">
  <div fxLayout="column" fxLayout.gt-md="row" fxLayoutGap="1rem">
    <!--<mat-card fxFlex>
      <mat-card-title-group>
        <mat-card-title>SARS-CoV-2</mat-card-title>
        <mat-card-subtitle>Keep calm and wash your hands</mat-card-subtitle>
        <lottie-player
          autoplay
          background="transparent" loop mat-card-md-image speed="1"
          src="https://assets5.lottiefiles.com/private_files/lf30_Rq4Htd.json" style="width: 112px; height: 112px;">
        </lottie-player>
        &lt;!&ndash;<img
          appIconSrc="warning-shield"
          mat-card-md-image
          width="80px"
        />&ndash;&gt;
      </mat-card-title-group>
      <mat-card-content>
        <p>
          Due to restrictions to prevent further spread of SARS-CoV-2 TUMi is not organizing any in person events in the
          foreseeable
          future. <br>
          Feel free to check out the online events we're planning for you below. <br>
          For official info, visit the TUM page!
        </p>
      </mat-card-content>
      <mat-card-actions align="start">
        <a color="primary" href="https://www.facebook.com/groups/1578294439000555" mat-raised-button target="_blank">TUMi
          facebook group</a>
        <a href="https://www.tum.de/en/about-tum/news/coronavirus/" mat-stroked-button target="_blank">TUM info site</a>
      </mat-card-actions>
    </mat-card>-->
    <!--<mat-card fxFlex fxShow.gt-md>
      <mat-card-title-group>
        <img alt="TUMi Logo" mat-card-sm-image src="/assets/images/blume.svg"/>
        <mat-card-title>What is TUMi?</mat-card-title>
        <mat-card-subtitle>Learn more about our organization</mat-card-subtitle>
      </mat-card-title-group>
      <mat-card-content>
        <p>
          TUMi or TUMinternational is a student for student program in which local students organize event for exchange
          students, foreign degree students and other locals looking to gain some international experience.
        </p>
        <p>Browse our events below, we're looking forward to seeing you there!</p>
      </mat-card-content>
      <mat-card-actions>
        <button color="primary" mat-stroked-button routerLink="/about">Learn more!</button>
      </mat-card-actions>
    </mat-card>-->
    <mat-card fxFlex class="rainbow-box">
      <mat-card-title-group>
        <img alt="TUMi Logo" appIconSrc="membership-card:fluent" mat-card-sm-image />
        <mat-card-title>ESNcards are here</mat-card-title>
        <mat-card-subtitle>Get them at our office!</mat-card-subtitle>
      </mat-card-title-group>
      <mat-card-content>
        <p>Did you know that each year more than 150,000 international students get their ESNcard?</p>
        <p fxHide.lt-md>
          Well, simply put, ESNcard is the membership card to the Erasmus Generation. A card that will carry the
          memories of your best times spent abroad with constant new experiences and lots of international friends.
          <b>And a card that will grant you over 1500 discounts and special deals all around Europe!</b>
        </p>
        <p>
          You can get the card at the TUMi office ( also while picking up your student ID ). The card is sold for
          <b>{{ 10 | currency: 'EUR' }}</b> and you can learn more about discounts by following the link. <br>
          <em>The cards are available for all international students (not only exchange)</em>
        </p>
      </mat-card-content>

      <mat-card-actions>
        <a mat-raised-button color="primary" routerLink="/events/appointments">Book appointment</a>
        <a
          href="https://esncard.org/blog/join-erasmus-generation-get-esncard"
          target="_blank"
          mat-stroked-button
        >Learn More</a
        >
      </mat-card-actions>
    </mat-card>
    <!--<mat-card class="pa-card" fxFlex *ngIf="!(incompleteProfile$|async)">
      <mat-card-title-group>
        <mat-card-title>TUMi is here for you!</mat-card-title>
        <mat-card-subtitle>Join our WhatsApp group today</mat-card-subtitle>
      </mat-card-title-group>
      &lt;!&ndash;<mat-card-content>
        <p>
          TUMi or TUMinternational is a student for student program in which local students organize event for exchange
          students, foreign degree students and other locals looking to gain some international experience.
        </p>
        <p>Browse our events below, we're looking forward to seeing you there!</p>
      </mat-card-content>&ndash;&gt;
      <mat-card-actions>
        <a color="primary" mat-flat-button href="https://chat.whatsapp.com/B7voovk2irm8XpzUliIjjF">Take me there!</a>
      </mat-card-actions>
    </mat-card>-->
    <mat-card fxFlex *ngIf="incompleteProfile$ | async">
      <mat-card-title-group>
        <img alt="TUMi Logo" appIconSrc="box-important:fluent" mat-card-sm-image />
        <mat-card-title>MISSING INFO!</mat-card-title>
        <mat-card-subtitle>New regulations due to COVID-19!</mat-card-subtitle>
      </mat-card-title-group>
      <mat-card-content>
        <p>
          Due to government issued regulations we have to collect additional data from you before you can sign up for
          events again.
        </p>
        <p>Please go to your profile and add the missing info now</p>
      </mat-card-content>
      <mat-card-actions>
        <a color="accent" routerLink="/events/my" mat-raised-button>Take me there</a>
      </mat-card-actions>
    </mat-card>
  </div>
  <h1 class="mat-display-3 no-margin">Upcoming events</h1>
  <form
    [formGroup]="filterForm"
    fxLayout="row"
    fxLayout.xs="column"
    fxLayoutGap="1rem"
    ngxsForm="events.filterForm"
    style="margin-bottom: 1rem"
  >
    <mat-checkbox formControlName="showExternal">Show external events</mat-checkbox>
    <mat-checkbox formControlName="showFull">Show full events</mat-checkbox>
    <mat-checkbox *ngIf="isTutor$ | async" formControlName="showFullTutors">Show full events (tutors)</mat-checkbox>
  </form>
  <app-event-list *ngIf="loaded$ | async; else loading" [events]="events$ | async"></app-event-list>
  <ng-template #loading>
    <mat-progress-bar mode="indeterminate"></mat-progress-bar>
  </ng-template>
</div>
