<div class="app-container" [class.app--is-mobile]="isMobile$ | async">
  <mat-toolbar color="primary" fxLayoutAlign="start center" fxLayout="row" fxLayoutGap="1rem">
    <button mat-icon-button (click)="nav.toggle()">
      <mat-icon svgIcon="menu"></mat-icon>
    </button>
    <h2>TUMinternational</h2>
    <mat-icon svgIcon="trip"></mat-icon>
    <div fxFlex></div>
    <ng-template #loginButton>
      <button mat-stroked-button (click)="authService.login()">Login</button>
    </ng-template>
    <button mat-stroked-button (click)="authService.logout()" *ngIf="authenticated$ | async; else loginButton">
      Log out
    </button>
  </mat-toolbar>
  <mat-sidenav-container [style.marginTop.px]="(isMobile$ | async) ? 56 : 0">
    <mat-sidenav
      #nav
      [opened]="!(isMobile$ | async)"
      [mode]="(isMobile$ | async) ? 'over' : 'side'"
      [fixedInViewport]="isMobile$ | async"
      fixedTopGap="56"
    >
      <aside fxLayout="column" style="height: 100%;">
        <mat-nav-list>
          <a mat-list-item routerLinkActive="active" routerLink="/events">
            <mat-icon mat-list-icon svgIcon="calendar"></mat-icon>
            <h3 mat-line>Upcoming events</h3>
          </a>
          <a *ngIf="authenticated$ | async" mat-list-item routerLinkActive="active" routerLink="/my-events">
            <mat-icon mat-list-icon svgIcon="schedule"></mat-icon>
            <h3 mat-line>My Events</h3>
          </a>
          <a mat-list-item routerLinkActive="active" routerLink="/about">
            <mat-icon mat-list-icon svgIcon="about"></mat-icon>
            <h3 mat-line>About TUMi</h3>
          </a>
          <a *ngIf="!(signedUp$ | async)" mat-list-item routerLinkActive="active" routerLink="/signup">
            <mat-icon mat-list-icon svgIcon="signup"></mat-icon>
            <h3 mat-line><strong>Get started</strong></h3>
          </a>
          <ng-container *ngIf="admin$ | async">
            <mat-divider></mat-divider>
            <h3 matSubheader>Office section</h3>
            <a mat-list-item routerLinkActive="active" routerLink="/office/events">
              <mat-icon mat-list-icon svgIcon="timetable"></mat-icon>
              <h3 mat-line>Manage Events</h3>
            </a>
            <a mat-list-item routerLinkActive="active" routerLink="/office/students">
              <mat-icon mat-list-icon svgIcon="student"></mat-icon>
              <h3 mat-line>Manage Students</h3>
            </a>
            <a mat-list-item routerLinkActive="active" routerLink="/office/tutors">
              <mat-icon mat-list-icon svgIcon="management"></mat-icon>
              <h3 mat-line>Manage Tutors</h3>
            </a>
            <a mat-list-item routerLinkActive="active" routerLink="/office/funds">
              <mat-icon mat-list-icon svgIcon="money"></mat-icon>
              <h3 mat-line>Money & Transactions</h3>
            </a>
            <a mat-list-item routerLinkActive="active" routerLink="/office/requests">
              <mat-icon mat-list-icon svgIcon="credentials"></mat-icon>
              <h3 mat-line>Authentication requests</h3>
            </a>
            <!--<a mat-list-item routerLinkActive="active" routerLink="/about">
                            <mat-icon mat-list-icon svgIcon="about"></mat-icon>
                            <h3 mat-line>Global Settings</h3>
                        </a>-->
          </ng-container>
        </mat-nav-list>
        <div fxFlex></div>
        <button mat-raised-button color="primary" *ngIf="admin$ | async">
          <mat-icon svgIcon="scanner"></mat-icon>
          <span>Scan office request</span>
        </button>
      </aside>
    </mat-sidenav>
    <mat-sidenav-content>
      <main>
        <router-outlet></router-outlet>
      </main>
    </mat-sidenav-content>
  </mat-sidenav-container>
</div>
