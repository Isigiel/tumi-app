<div [class.app--is-mobile]="isMobile$ | async" class="app-container">
  <div [class]="class$ | async">
    <mat-toolbar [color]="color$ | async" fxLayout="row" fxLayoutAlign="start center" fxLayoutGap="1rem">
      <button (click)="nav.toggle()" mat-icon-button>
        <mat-icon svgIcon="menu"></mat-icon>
      </button>
      <h4 style="font-size: 1.5rem; line-height: 1.5rem" ngStyle.gt-sm="font-size: 2rem; line-height: 2rem" ngStyle.xs="font-size: 1.25rem; line-height: 1.5rem">TUMinternational</h4>
      <mat-icon svgIcon="trip" style="line-height: 2rem; font-size: 2rem" fxHide.xs></mat-icon>
      <div fxFlex></div>
      <ng-template #loginButton>
        <button (click)="authService.login()" mat-stroked-button>Login</button>
      </ng-template>
      <button (click)="authService.logout()" *ngIf="authenticated$ | async; else loginButton" mat-stroked-button>
        Log out
      </button>
    </mat-toolbar>
  </div>
  <mat-sidenav-container [style.marginTop.px]="(isMobile$ | async) ? 56 : 0">
    <mat-sidenav
      #nav
      [fixedInViewport]="isMobile$ | async"
      [mode]="(isMobile$ | async) ? 'over' : 'side'"
      [opened]="!(isMobile$ | async) && !!(color$ | async)"
      fixedTopGap="56"
    >
      <aside fxLayout="column" style="height: 100%;">
        <mat-nav-list>
          <a mat-list-item routerLink="/events" routerLinkActive="active">
            <mat-icon mat-list-icon svgIcon="calendar"></mat-icon>
            <h3 mat-line>Upcoming events</h3>
          </a>
          <a *ngIf="authenticated$ | async" mat-list-item routerLink="/events/my" routerLinkActive="active">
            <mat-icon mat-list-icon svgIcon="schedule"></mat-icon>
            <h3 mat-line>My Events</h3>
          </a>
          <a mat-list-item routerLink="/about" routerLinkActive="active">
            <mat-icon mat-list-icon svgIcon="about"></mat-icon>
            <h3 mat-line>About TUMi</h3>
          </a>
          <a *ngIf="!(signedUp$ | async)" mat-list-item routerLink="/signup" routerLinkActive="active">
            <mat-icon mat-list-icon svgIcon="signup"></mat-icon>
            <h3 mat-line><strong>Get started</strong></h3>
          </a>
          <ng-container *ngIf="admin$ | async">
            <mat-divider></mat-divider>
            <h3 matSubheader>Office section</h3>
            <a mat-list-item routerLink="/office/events" routerLinkActive="active">
              <mat-icon mat-list-icon svgIcon="timetable"></mat-icon>
              <h3 mat-line>Manage Events</h3>
            </a>
            <a mat-list-item routerLink="/office/users" routerLinkActive="active">
              <mat-icon mat-list-icon svgIcon="users"></mat-icon>
              <h3 mat-line>Manage Users</h3>
            </a>
            <a mat-list-item routerLink="/office/students" routerLinkActive="active">
              <mat-icon mat-list-icon svgIcon="student"></mat-icon>
              <h3 mat-line>Manage Students</h3>
            </a>
            <a mat-list-item routerLink="/office/tutors" routerLinkActive="active">
              <mat-icon mat-list-icon svgIcon="management"></mat-icon>
              <h3 mat-line>Manage Tutors</h3>
            </a>
            <a mat-list-item routerLink="/office/funds" routerLinkActive="active">
              <mat-icon mat-list-icon svgIcon="money"></mat-icon>
              <h3 mat-line>Money & Transactions</h3>
            </a>
            <!--<a mat-list-item routerLink="/office/requests" routerLinkActive="active">
              <mat-icon mat-list-icon svgIcon="credentials"></mat-icon>
              <h3 mat-line>Authentication requests</h3>
            </a>-->
            <!--<a mat-list-item routerLinkActive="active" routerLink="/about">
                                        <mat-icon mat-list-icon svgIcon="about"></mat-icon>
                                        <h3 mat-line>Global Settings</h3>
                                    </a>-->
          </ng-container>
        </mat-nav-list>
        <div fxFlex></div>
        <button (click)="scanRequest()" *ngIf="admin$ | async" color="primary" mat-raised-button>
          <mat-icon svgIcon="scanner"></mat-icon>
          <span>Scan office request</span>
        </button>
      </aside>
    </mat-sidenav>
    <mat-sidenav-content>
      <main>
        <router-outlet></router-outlet>
      </main>
      <!--<div class="dark-theme">
        <mat-toolbar fxLayout="row" fxLayoutAlign="center center" fxLayoutGap="3rem">
          <a href="#" class="styled mat-body-1">Imprint</a>
          <a href="#" class="styled mat-body-1">Data policy</a>
        </mat-toolbar>
      </div>-->
    </mat-sidenav-content>
  </mat-sidenav-container>
</div>
